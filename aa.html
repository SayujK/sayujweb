<!DOCTYPE html>
<html>
  <head>
    <title>Dark Mode Toggle</title>
    <style>
      :root {
        --background-color: blue;
      }
      :root:has(#dark-mode-toggle:checked) {
        --background-color: green;
      }
      body {
        background-color: var(--background-color);
      }
    </style>
  </head>
  <body>
    <input type="checkbox" id="dark-mode-toggle" />
    <label for="dark-mode-toggle">
      <img src="./images/svg-icons/moon-solid.svg" id="unchecked-icon" />
      <img
        src="./images/svg-icons/sun-solid.svg"
        id="checked-icon"
        style="display: none"
      />
    </label>
    <script>
      var checkbox = document.getElementById("dark-mode-toggle");
      var uncheckedIcon = document.getElementById("unchecked-icon");
      var checkedIcon = document.getElementById("checked-icon");

      // Check local storage for existing theme
      var theme = localStorage.getItem("theme");
      if (theme === "dark") {
        checkbox.checked = true;
        uncheckedIcon.style.display = "none";
        checkedIcon.style.display = "block";
      } else {
        checkbox.checked = false;
        uncheckedIcon.style.display = "block";
        checkedIcon.style.display = "none";
      }

      checkbox.addEventListener("change", function () {
        if (this.checked) {
          uncheckedIcon.style.display = "none";
          checkedIcon.style.display = "block";
          localStorage.setItem("theme", "dark");
        } else {
          uncheckedIcon.style.display = "block";
          checkedIcon.style.display = "none";
          localStorage.setItem("theme", "light");
        }
      });
    </script>
  </body>
</html>
